<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<section>
  <div class="page-header row">
    <h1>
      User List
      <span class="pull-right">
        <a class="btn btn-primary" ui-sref="user-create">Create User</a>
        <a class="btn btn-default" ui-sref="userlogs.list">User Log</a>
      </span>
    </h1>
  </div>

  <div class="col-md-offset-1 col-md-10">
    <div class="input-group" id="searchBar">
      <span class="input-group-addon" id="sizing-addon1">
        <span class="glyphicon glyphicon-search"></span>
      </span>
      <input type="text" class="form-control" placeholder="Search" ng-model="search" ng-change="figureOutItemsToDisplay()">
    </div>
    <br/>
    <div class="tableWrapper">
      <table class="table table-bordered table-striped table-hover">
        <thead class="thead-default">
          <tr class="sortable">
            <th ng-click="changeSortUsername('username')">Username
            <i ng-hide="!reverseUsername" style="font-size:25px;" class="fa fa-arrow-circle-o-up pull-right"></i>
            <i ng-hide="reverseUsername" style="font-size:25px;" class="fa fa-arrow-circle-o-down pull-right"></i>
            </th>
            <th ng-click="changeSortRoles('roles')">Roles
            <i ng-hide="!reverseRoles" style="font-size:25px;" class="fa fa-arrow-circle-o-up pull-right"></i>
            <i ng-hide="reverseRoles" style="font-size:25px;" class="fa fa-arrow-circle-o-down pull-right"></i>
            </th>
            <th ng-click="changeSortEmail('email')">Email
            <i ng-hide="!reverseEmail" style="font-size:25px;" class="fa fa-arrow-circle-o-up pull-right"></i>
            <i ng-hide="reverseEmail" style="font-size:25px;" class="fa fa-arrow-circle-o-down pull-right"></i>          
            </th>
            <th ng-click="changeSortUpdated('updated')">Last Updated
            <i ng-hide="!reverseUpdated" style="font-size:25px;" class="fa fa-arrow-circle-o-up pull-right"></i>
            <i ng-hide="reverseUpdated" style="font-size:25px;" class="fa fa-arrow-circle-o-down pull-right"></i>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="user in pagedItems | orderBy : headSort : reverse" ui-sref="admin.user({userId: user._id})">
            <td>{{user.username}}</td>
            <td>{{user.roles}}</td>
            <td>{{user.email}}</td>
            <td ng-bind="user.updated | date : 'short'"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <img id="loader" ng-show="loading" src="/../../img/484.gif">
  </div>
</section>
